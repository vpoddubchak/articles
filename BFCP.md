### Вступление

Во время конференции, приложения нуждаются в управлении доступом к ресурсам,таким как права на отправку медиа данных. 

Любой **Протоколам управления уровнями** должен соответствовать требованиям изложенным в RFC4376 [3]. **Бинарный протокол управления уровнями** (BFCP) который описан в данной статье - отвечает этим требованиям.

BFCP был спроектированием с олядкой на мобильные устройства и возможность работать в среде с плохим соединением. Достигнуто это путём использования бинарного кодирования каждого соощения. Что также позитивно сказывается на времени доставки сообщений.



### Терминология

 - **Медиа учасник** - (Media Participant) Сущность которая имеет доступ к медиа ресурсам (например может получать медиа стрим). В конференциях с управлением доступом, каждый медиа учасник обычно сопряжен с **Учасником** (Floor Participant), но это не обязательно. Любой запрос прав (Floor request) заключается в том что-бы *Учасник* запрашивал доступ у *Медиа учасника* когда они не сопряжены. Протокол между *Медиа Учасником* и *Учаником* здесь не описан.
 - **Клиент** - *Учасник* или *Модератор* которые общаются с *Сервером управления правами* используя BFCP.
 - **Модератор**  - (Floor Chair) Сущность которая управляет одним уровнем. Выдает, запрещяет, анулирует разрешения. Будучи модератором для одной транзакции, может являться чем-то другим (например Учасником) для другой транзакции. 
 - **Управление Правами** - (Floor Control) это механизм который позволяет приложениям или пользователям получать безопасный эксклюзивный или не эксклюзивный доступ к ресурсам.
 - **Права** - (Floor) Разрешение на временный доступ или манипулирование общим каким-либо ресурсом или набором ресурсов.
 - **Сервер управления уровнями** - (Floor Control Server) Логическая единица которая поддерживает состояния прав: наличие прав, кто *Модератор* каких прав, и т.д. Запросы на управление правами направляются на *Сервер управления уровнями*. *Сервер управления уровнями* в одной конферении, может выполнять другую роль (например *Учасника*) в другой конференции.
 - **Учасник** - (Floor Participant) Сущность которая запрашивает права у *Сервера управления уровнями*. Может быть *Учасником* в оной транзакции и чем-то другим (например *Модератором*) в другой транзакции.  

### Цель

Как упоминалось выше, BFCP - это протокол для управления доступом к ресурсам в конференции, который отвечает требованиям изложенным в [3]. BFCP определенный в данном документе лишь специфицирует средства для арбитража прав доступа. Правила и ограничения для арбитража прав и результаты присвоения прав здесь не описаны и находятся в других документах.

Рисунок 1 показывает задачи которые выполняет BFCP:
                              +---------+
                              |         |
                              |  Модер  |
                              |         |
                              +---------+
                                 ^   |
                                 |   |
                    Нотификация  |   | Решение
                                 |   |
                                 |   |
                      Запрос     |   v
   +-------------+     прав   +----------+              +-------------+
   |             |----------->| Сервер   | Нотификация  |             |
   |   Учасник   |            | Упр-ния  |------------->|   Учасник   |
   |             |<-----------| Уровнями |              |             |
   +-------------+ Выдано или +----------+              +-------------+
                   запрещено
                     

### Что такое Управление Уровнями ?



**Бинарный протокол управления уровнями** - (BFCP) протокол для координирования доступа к ресурсам в конференции.

Протокол описывает взаимодествие:
 - Между сервером управления уровнями и счасником
 - Между сервером управления уровнми и модератором
 
 ### Особенности протокола BFCP
  - Бинарный
  - TSV (Type Size Value)
  - Быстрый

### Литература
- [1] https://pdfs.semanticscholar.org/aaba/fcfb9b9a5c8bd91355fc2743157a002e4cfc.pdf
- [2] https://tools.ietf.org/html/rfc4582
- [3] https://tools.ietf.org/html/rfc4376
